<%page expression_filter="h"/>
<%inherit file="base.html" />
<%namespace name='static' file='../static_content.html'/>
<%!
from django.utils.translation import ugettext as _
from openedx.core.djangolib.markup import HTML, Text
%>
<%block name="title">${_('Edit Announcement')}</%block>
<%block name="viewtitle">
<h3 class="info-course">
    <span>${_('Edit Announcement')}</span>
</h3>
</%block>

<%block name="viewcontent">
<section class="container maintenance-content">
    <div class="container studio-view maintenance-form">
        <form class="form-create" method="post" action="${action_url}">
            <div class="wrapper-form announcement-container">
                <input type="hidden" name="csrfmiddlewaretoken" value="${csrf_token}"/>
                <div class="announcement-item">
                    <textarea name="content" class="announcement-content">
                        ${getattr(announcement, "content", "") | n}
                    </textarea>
                    <div class="actions-list">
                        <label for="active">${_('Is Active')}</label>
                        <input type="checkbox" name="active" class="announcement-active"
                            %if announcement.active:
                                checked
                            %endif
                         />
                    </div>
                </div>
                <div class="actions">
                    <button type="submit" class="action action-primary">${_('Save')}</button>
                </div>
            </div>
        </form>
    </div>
</section>
</%block>

<%block name="header_extras">
  <script src="${STATIC_URL}js/vendor/tinymce/js/tinymce/tinymce.full.min.js"></script>
  <script type="text/javascript">
      tinymce.init({
          selector: ".announcement-content",
          branding: false,
          plugins: [
              "advlist autolink lists link image charmap print preview anchor",
              "searchreplace visualblocks code fullscreen",
              "insertdatetime media table contextmenu paste save"
          ],
          toolbar: "save | insertfile undo redo | styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image"
      });
  </script>
</%block>
